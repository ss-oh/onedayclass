<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>원데이 클래스 - 레슨 신청</title>
    <link rel="icon" href="img/logo01.ico" sizes="32x32" type="image/png">
    <link rel="icon" href="img/logo01.ico" sizes="16x16" type="image/png">
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <header>
        <div class="container header-container">
            <div class="logo"><a href="index.html">OneDayClass</a></div>
            <button id="menu-btn" aria-label="메뉴 열기">&#9776;</button>
            <nav id="nav-menu" class="hidden">
                <a href="index.html">Home</a>
                <a href="guide.html">이용안내</a>
                <a href="pro.html">프로소개</a>
                <a href="lessons.html">레슨일정</a>
                <a href="apply.html">레슨 신청</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="container">
            <h2>레슨 신청</h2>
            <form id="apply-form">
                <label for="name">이름</label>
                <input type="text" id="name" name="name" required />

                <label for="phone">연락처</label>
                <input type="tel" id="phone" name="phone" pattern="01[016789]-?[0-9]{3,4}-?[0-9]{4}"
                    placeholder="010-1234-5678" required />

                <label for="lesson">나이 선택</label>
                <select id="lesson" name="lesson" required>
                    <option value="">선택하세요</option>
                    <option value="30대">(30대)36~39세</option>
                    <option value="40대">(40대)40~49세</option>
                    <option value="50대">(50대)50~59세</option>
                </select>
                <label for="schedule">일정 선택</label>
                <select id="schedule" name="schedule" required>
                    <option value="">일정을 선택하세요</option>
                    <option value="7월9일(수) - 상계K점 스크린골프(오후13시~15시)">7월9일(수) - 상계K점 스크린골프</option>
                    <option value="7월10일(목) - 강남 골프존파크 대치삼성역(오후13시~15시)">7월10일(목) - 강남 골프존파크 대치삼성역</option>
                    <option value="7월11일(금) - 영등포 롯데 에이알골프아카데미(오후13시~15시)">7월11일(금) - 영등포 롯데 에이알골프아카데미</option>
                    <option value="7월15일(화) - 장충동 골프존파크 힐사이드(오후13시~15시)">7월15일(화) - 장충동 골프존파크 힐사이드</option>
                    <option value="7월16일(수) - 마포 디자인스크린 골프(오후13시~15시)">7월16일(수) - 마포 디자인스크린 골프</option>
                    <option value="7월17일(목) - 동탄 더프라자골프 롯데(오후13시~15시)">7월17일(목) - 동탄 더프라자골프 롯데</option>
                    <option value="7월18일(금) - 일산 골프존스카이파크(오후13시~15시)">7월18일(금) - 일산 골프존스카이파크</option>
                    <option value="7월22일(화) - 골프존 파크 장안온천점(오후13시~15시)">7월22일(화) - 골프존 파크 장안온천점</option>
                    <option value="7월23일(수) - 대전 라운지도튼 봉명(오후13시~15시)">7월23일(수) - 대전 라운지도튼 봉명</option>
                    <option value="7월24일(목) - 대구 골프존파크 남산스크린(오후13시~15시)">7월24일(목) - 대구 골프존파크 남산스크린</option>
                    <option value="7월25일(금) - 광주 누브골프아카데미(오후13시~15시)">7월25일(금) - 광주 누브골프아카데미</option>
                    <option value="7월28일(월) - 송도 AT센터 골프존파크(오후13시~15시)">7월28일(월) - 송도 AT센터 골프존파크</option>
                    <option value="7월29일(화) - 미사 주차빌딩점 골프존파크(오후13시~15시)">7월29일(화) - 미사 주차빌딩점 골프존파크</option>
                </select>
                <div class="checkbox-group">
                    <input type="checkbox" id="agree" name="agree" required />
                    <label for="agree">개인정보 제공에 동의합니다.</label>
                </div>
                <button type="submit">신청하기</button>
            </form>
        </section>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <p>&copy; 2025 원데이 클래스 | All rights reserved.</p>
        </div>
    </footer>

    <script>
        const menuBtn = document.getElementById("menu-btn");
        const navMenu = document.getElementById("nav-menu");
        menuBtn.addEventListener("click", () => {
            navMenu.classList.toggle("hidden");
        });

        const form = document.getElementById("apply-form");
        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            const formData = new FormData(form);
            const name = formData.get("name").trim();
            const phone = formData.get("phone").trim();
            const lesson = formData.get("lesson");

            if (!name || !phone || !lesson) {
                alert("모든 항목을 입력해 주세요.");
                return;
            }

            try {
                await fetch("https://onedayclass-sms-server.onrender.com/send-sms", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        Authorization: "hmac-sha256 NCSXTXVEMJC7BTKC:FDC1BAWYZD9A4KCB2EYHU6GWJEEPMW15",
                    },
                    body: JSON.stringify({ name, phone, lesson }),
                });

                alert("신청이 완료되었습니다.");
                form.reset();
            } catch (error) {
                alert("서버 연결 실패: " + error.message);
            }
        });
    </script>
</body>

</html>